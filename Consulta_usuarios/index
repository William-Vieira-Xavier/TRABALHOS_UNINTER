print("Bem vindos a lista de contatos de William Vieira Xavier")

lista_contatos = [] # lista vazia
id_global = 55805464746745 # meu RU

def cadastra_id(id): #Função para coletar os dados.
    nome = input("Digite o nome: ").lower()
    atividade = input("Qual a atividade dessa pessoa: ").lower()
    telefone = input("Digite o telefone para contato: ")
    #Dicionario
    contato = { 
        "id": id,
        "nome": nome,
        "atividade": atividade,
        "telefone": telefone
    }

    lista_contatos.append(contato.copy()) #acrescentando as informações na lista

def consultar_contatos(): #função para consultar os contatos
    while True: 
        #menu
        print("-"*20, "CONSULTAR CADASTROS", "-"*20)
        print("1 - Consultar todos os cadastros")
        print("2 - Consultar por ID ")
        print("3 - Consultar por setor ")
        print("4 - Retornar ao menu.  \n")

        escolha = int(input("Qual devo seguir: "))

        #validação
        if escolha == 1:
            if len(lista_contatos) == 0:
                print("Não encontrei nada")
            else:
                for contato in lista_contatos:
                    print(contato)

        elif escolha == 2:
            consultar_id = int(input("Digite o ID para consultar: "))
            encontrado = False
            for contato in lista_contatos:#loop para verificar se existe ou não
                if contato["id"] == consultar_id:
                    print(f"Contato encontrado {contato}")
                    encontrado = True
                    break
            if not encontrado:
                print("Este contato não existe.")

        elif escolha == 3:
            consultar_atividade = input("Digite a atividade para consultar: ").lower()
            encontrados = [c for c in lista_contatos if c["atividade"].lower() == consultar_atividade]
            if len(encontrados) > 0:
                for c in encontrados:
                    print(c)

            else:
                print("Nenhum contato encontrado.")
            
        elif escolha == 4:
            print("Retornando ao Menu.")
            break

        else:
            print("Opção inválida")

def remover_contato():#funçao para remover contatos
    while True: 
        
        try: 
            remover_id = int(input("Digite o ID para remover o contato: "))
        except ValueError:
            print('ID incorreto')
            continue

        for contato in lista_contatos:
            if contato["id"] == remover_id:
                lista_contatos.remove(contato)
                print("Contato removido")
                encontrado = True
                return

        print("ID inválido")
while True:
    #menu
    print("-"*20, "MENU PRINCIPAL", "-"*20)
    print("1. Cadastrar contato")
    print("2. Consultar contato")
    print("3. Remover contato")
    print("4. Finalizar programa")

    try:
        opcao = int(input("Escolha uma opção: "))
    except ValueError:
        print("opção invalida")
        continue

    if opcao == 1:
        cadastra_id(id_global)
        id_global += 1

    elif opcao == 2:
        consultar_contatos()

    elif opcao == 3:
        remover_contato()

    elif opcao == 4:
        print("Finalizando o programa")
        break

    else:
        print("Por favor, digite um valor válido.")


